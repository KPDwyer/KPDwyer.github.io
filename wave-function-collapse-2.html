<!DOCTYPE html><html lang="en-gb"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Wave Function Collapse - KPD</title><meta name="description" content="Inspired by mxgmn &amp; Oskar Stålberg, I spent a bunch of time&hellip;"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="canonical" href="https://kpdwyer.github.io/wave-function-collapse-2.html"><link rel="alternate" type="application/atom+xml" href="https://kpdwyer.github.io/feed.xml"><link rel="alternate" type="application/json" href="https://kpdwyer.github.io/feed.json"><meta property="og:title" content="Wave Function Collapse"><meta property="og:image" content="https://kpdwyer.github.io/media/posts/2/wfc_shape_thumb-2.png"><meta property="og:image:width" content="400"><meta property="og:image:height" content="400"><meta property="og:site_name" content="KPD"><meta property="og:description" content="Inspired by mxgmn &amp; Oskar Stålberg, I spent a bunch of time&hellip;"><meta property="og:url" content="https://kpdwyer.github.io/wave-function-collapse-2.html"><meta property="og:type" content="article"><link rel="preload" href="https://kpdwyer.github.io/assets/dynamic/fonts/publicsans/publicsans.woff2" as="font" type="font/woff2" crossorigin><link rel="stylesheet" href="https://kpdwyer.github.io/assets/css/style.css?v=d9fc0cb5a3a0b5029086b5ca4bc6d9c7"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://kpdwyer.github.io/wave-function-collapse-2.html"},"headline":"Wave Function Collapse","datePublished":"2020-03-20T20:17-04:00","dateModified":"2025-01-20T20:36-05:00","image":{"@type":"ImageObject","url":"https://kpdwyer.github.io/media/posts/2/wfc_shape_thumb-2.png","height":400,"width":400},"description":"Inspired by mxgmn &amp; Oskar Stålberg, I spent a bunch of time&hellip;","author":{"@type":"Person","name":"Kyle Dwyer","url":"https://kpdwyer.github.io/authors/kyle-dwyer/"},"publisher":{"@type":"Organization","name":"Kyle Dwyer","logo":{"@type":"ImageObject","url":"https://kpdwyer.github.io/media/website/display.jpg","height":400,"width":400}}}</script><noscript><style>img[loading] {
                    opacity: 1;
                }</style></noscript></head><body class="post-template"><div class="container"><div class="left-bar"><div class="left-bar__inner"><header class="header"><a class="logo" href="https://kpdwyer.github.io/"><img src="https://kpdwyer.github.io/media/website/display.jpg" alt="KPD" width="400" height="400"></a><nav class="navbar"><button class="navbar__toggle" aria-label="Menu" aria-haspopup="true" aria-expanded="false"><span class="navbar__toggle__box"><span class="navbar__toggle__inner">Menu</span></span></button><ul class="navbar__menu"><li><a href="https://kpdwyer.github.io/" target="_self" aria-label="Archive"><span>Archive</span></a></li><li><a href="https://kpdwyer.github.io/tags/" target="_self" aria-label="Tags"><span>Tags</span></a></li><li><a href="https://kpdwyer.github.io/about.html" target="_self" aria-label="About Me"><span>About Me</span></a></li></ul></nav><a class="logo logo--atbottom" href="https://kpdwyer.github.io/"><img src="https://kpdwyer.github.io/media/website/display.jpg" alt="KPD" width="400" height="400"></a></header></div></div><main class="main post"><article class="content"><figure class="content__featured-image content__featured-image--attop"><img src="https://kpdwyer.github.io/media/posts/2/wfc_shape_thumb-2.png" srcset="https://kpdwyer.github.io/media/posts/2/responsive/wfc_shape_thumb-2-xs.png 320w, https://kpdwyer.github.io/media/posts/2/responsive/wfc_shape_thumb-2-sm.png 480w, https://kpdwyer.github.io/media/posts/2/responsive/wfc_shape_thumb-2-md.png 768w, https://kpdwyer.github.io/media/posts/2/responsive/wfc_shape_thumb-2-xl.png 1024w" sizes="(min-width: 1460px) 938px, (min-width: 1200px) calc(75.83vw - 154px), (min-width: 1120px) 938px, (min-width: 900px) calc(55vw + 333px), 100vw" loading="eager" height="400" width="400" alt="" aria-describedby="image-caption"></figure><div class="content__meta content__meta--attop"><div class="content__meta--attop__inner"><div class="content__maintag"><svg width="20" height="20" aria-hidden="true" focusable="false"><use xlink:href="https://kpdwyer.github.io/assets/svg/svg-map.svg#tag"/></svg> Published in <a href="https://kpdwyer.github.io/tags/experiments/" class="metadata__maintag">experiments</a></div></div></div><div class="main__inner"><div class="content__meta"><div class="content__author"><div><a href="https://kpdwyer.github.io/authors/kyle-dwyer/" class="content__author__name">Kyle Dwyer</a></div></div><div class="content__date"><time datetime="2020-03-20T20:17">Mar 20, 2020</time></div></div><header class="content__header"><h1 class="content__title">Wave Function Collapse</h1></header><div class="content__entry"><div><div>Inspired by <a href="https://github.com/mxgmn/WaveFunctionCollapse" target="_blank" rel="noopener noreferrer">mxgmn</a> &amp; <a href="https://twitter.com/OskSta" target="_blank" rel="noopener noreferrer">Oskar Stålberg,</a> I spent a bunch of time building out a Unity implementation for WFC using tilemaps. This was a fun exercising in optimization, and taught me a lot about how procedural generation can still leave room for authored editing: to me, the strength of WFC is allowing both the designer and the algorithm to "collapse" any of the nodes, opening up myriad ways to collaborate with the machine.</div><br><div>Source for WFC is closed. The code is not documented well enough to be of any use to anyone, but interested parties can reach out if they want to learn more. As usual, it's worth noting that performance in these clips is often bound by screen capture / streaming, and staggered execution is an intentional choice to make the videos more interesting!</div><br><div><a href="https://www.youtube.com/watch?v=AfUS6-QcaNw" target="_blank" rel="noopener noreferrer">Staggered Fill on YouTube </a>- In this clip, each contiguous island can be clicked on to destroy the island, and then refill via WFC. each new island is covered based on it's center point's distance to the middle of the square.</div><div> </div><div><a href="https://kpdwyer.github.io/media/files/radial_sample.mp4">VIDEO - Radial Sample</a></div><div> </div><div><a href="https://kpdwyer.github.io/media/files/gameplay_destruction.mp4">VIDEO - Gameplay Destruction</a></div></div><div class="gallery-wrapper"><div class="gallery" data-is-empty="false" data-translation="Add images" data-columns="3"><figure class="gallery__item"><a href="https://kpdwyer.github.io/media/posts/2/gallery/wfc_simplegen_small.gif" data-size="414x458"><img loading="lazy" src="https://kpdwyer.github.io/media/posts/2/gallery/wfc_simplegen_small.gif" alt=""></a><figcaption>I started off with a simple generator using a basic pipe tileset</figcaption></figure><figure class="gallery__item"><a href="https://kpdwyer.github.io/media/posts/2/gallery/wfc_shape_thumb.png" data-size="400x400"><img loading="lazy" src="https://kpdwyer.github.io/media/posts/2/gallery/wfc_shape_thumb-thumbnail.png" alt="" width="400" height="400"></a><figcaption>But ended up making a more complex pipes set with overpasses, endings and other features. I fell in love with the pictures I could find in the chaos.</figcaption></figure><figure class="gallery__item"><a href="https://kpdwyer.github.io/media/posts/2/gallery/wfc_kpd_thumb.png" data-size="400x400"><img loading="lazy" src="https://kpdwyer.github.io/media/posts/2/gallery/wfc_kpd_thumb-thumbnail.png" alt="" width="400" height="400"></a><figcaption>I began constraining the generation within shapes by selectively allowing regions.</figcaption></figure></div></div><p> </p></div><footer class="content__footer"><div class="content__last-updated">This article was updated on <time datetime="2025-01-20T20:36">Jan 20, 2025</time></div></footer></div></article></main><div class="right-bar"><div class="right-bar__inner"><div class="sidebar"><section class="box featured"><h3 class="box__title">Featured Posts</h3><ul class="featured__container"><li class="featured__item"><a href="https://kpdwyer.github.io/tojam-2024.html" class="featured__image"><img src="https://kpdwyer.github.io/media/posts/7/responsive/5-2-xs.png" loading="lazy" alt="" height="1080" width="1080"></a><div><a href="https://kpdwyer.github.io/tojam-2024.html" class="featured__title">TOJam 2024</a></div></li><li class="featured__item"><a href="https://kpdwyer.github.io/beholdin.html" class="featured__image"><img src="https://kpdwyer.github.io/media/posts/8/beholdin.gif" loading="lazy" alt="" height="250" width="250"></a><div><a href="https://kpdwyer.github.io/beholdin.html" class="featured__title">beholdin&#x27;</a></div></li></ul></section><section class="box tags"><h3 class="box__title">Recommended Topics</h3><ul class="tags__list"><li class="tags__item"><a href="https://kpdwyer.github.io/tags/art/" class="btn btn--gray">art <sup>(4)</sup></a></li><li class="tags__item"><a href="https://kpdwyer.github.io/tags/blender/" class="btn btn--gray">blender <sup>(3)</sup></a></li><li class="tags__item"><a href="https://kpdwyer.github.io/tags/experiments/" class="btn btn--gray">experiments <sup>(4)</sup></a></li><li class="tags__item"><a href="https://kpdwyer.github.io/tags/games/" class="btn btn--gray">games <sup>(1)</sup></a></li><li class="tags__item"><a href="https://kpdwyer.github.io/tags/godot/" class="btn btn--gray">godot <sup>(3)</sup></a></li><li class="tags__item"><a href="https://kpdwyer.github.io/tags/inktober/" class="btn btn--gray">inktober <sup>(1)</sup></a></li><li class="tags__item"><a href="https://kpdwyer.github.io/tags/jams/" class="btn btn--gray">jams <sup>(1)</sup></a></li><li class="tags__item"><a href="https://kpdwyer.github.io/tags/krita/" class="btn btn--gray">krita <sup>(1)</sup></a></li><li class="tags__item"><a href="https://kpdwyer.github.io/tags/pixsquare/" class="btn btn--gray">pixsquare <sup>(1)</sup></a></li><li class="tags__item"><a href="https://kpdwyer.github.io/tags/posts/" class="btn btn--gray">posts <sup>(10)</sup></a></li></ul></section></div></div></div></div><script defer="defer" src="https://kpdwyer.github.io/assets/js/scripts.min.js?v=b2d91bcadbf5db401b76eb5bb3092eb7"></script><script>var images = document.querySelectorAll('img[loading]');
        for (var i = 0; i < images.length; i++) {
            if (images[i].complete) {
                images[i].classList.add('is-loaded');
            } else {
                images[i].addEventListener('load', function () {
                    this.classList.add('is-loaded');
                }, false);
            }
        }</script></body></html>