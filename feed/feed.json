{
	"version": "https://jsonfeed.org/version/1.1",
	"title": "KPD Home",
	"language": "en",
	"home_page_url": "https://kpdwyer.github.io/",
	"feed_url": "https://kpdwyer.github.io/feed/feed.json",
	"description": "Currently working as a Senior Developer in the games industry.",
	"author": {
		"name": "Kyle Dwyer",
		"url": "https://example.com/about-me/"
	},
	"items": [
		{
			"id": "https://kpdwyer.github.io/blog/art/2023-09-12/art2023-09-12/",
			"url": "https://kpdwyer.github.io/blog/art/2023-09-12/art2023-09-12/",
			"title": "Art Dump",
			"content_html": "<p>Trying to make this website the first place I post things, but daily art posts would be a bit much, so here's the first art dump.  not necessarily recent work, just the stuff I like.</p>\n<p><picture><source type=\"image/webp\" srcset=\"https://kpdwyer.github.io/img/YFPmRnlb7t-1305.webp 1305w\"><img alt=\"Lizard\" loading=\"lazy\" decoding=\"async\" src=\"https://kpdwyer.github.io/img/YFPmRnlb7t-1305.png\" width=\"1305\" height=\"1305\"></picture>\n<em>Dual Wielding Lizard, Procreate</em></p>\n<p><picture><source type=\"image/webp\" srcset=\"https://kpdwyer.github.io/img/CXmTcu0fsD-512.webp 512w\"><img alt=\"astroman\" loading=\"lazy\" decoding=\"async\" src=\"https://kpdwyer.github.io/img/CXmTcu0fsD-512.png\" width=\"512\" height=\"512\"></picture>\n<em>Astronaut from unfinished jam game, Pixaki</em></p>\n<p><picture><source type=\"image/webp\" srcset=\"https://kpdwyer.github.io/img/O_LSN4XuGM-1440.webp 1440w\"><img alt=\"bugmanconcept\" loading=\"lazy\" decoding=\"async\" src=\"https://kpdwyer.github.io/img/O_LSN4XuGM-1440.png\" width=\"1440\" height=\"1440\"></picture>\n<a href=\"https://kpdwyer.github.io/clips/art/september2023/buganim.mp4\"><picture><source type=\"image/webp\" srcset=\"https://kpdwyer.github.io/img/j0PF78ISn9-1008.webp 1008w\"><img alt=\"bugmanrig\" loading=\"lazy\" decoding=\"async\" src=\"https://kpdwyer.github.io/img/j0PF78ISn9-1008.png\" width=\"1008\" height=\"1737\"></picture></a>\n<em>Bugman concept, rig &amp; animation (click last image).  Krita, Blender.</em></p>\n<p><a href=\"https://kpdwyer.github.io/clips/art/september2023/spaceship.mp4\"><picture><source type=\"image/webp\" srcset=\"https://kpdwyer.github.io/img/8eHMrG7rCP-398.webp 398w\"><img alt=\"beholdin ship\" loading=\"lazy\" decoding=\"async\" src=\"https://kpdwyer.github.io/img/8eHMrG7rCP-398.png\" width=\"398\" height=\"293\"></picture></a>\n<em>spaceship model &amp; eye rig (click for clip)</em></p>\n",
			"date_published": "2023-09-12T00:00:00Z"
		}
		,
		{
			"id": "https://kpdwyer.github.io/blog/swordsend/2023/",
			"url": "https://kpdwyer.github.io/blog/swordsend/2023/",
			"title": "Sword&#39;s End 2023 Outlook",
			"content_html": "<h1 id=\"cursed-sword-roguelike-2023\" tabindex=\"-1\">Cursed Sword Roguelike 2023 <a class=\"header-anchor\" href=\"https://kpdwyer.github.io/blog/swordsend/2023/\">#</a></h1>\n<p><em>originally posted on Reddit in the r/roguelikedev subreddit</em></p>\n<p><strong>Sword's End (Previously &quot;Unnamed Cursed Sword Roguelike&quot;)</strong></p>\n<p>Sword's End has a proper name now, and I've been slowly building it up for just over a year now.  it is a hobby project, and I allow myself to get distracted prematurely optimizing or exploring other projects quite a bit.  That said, 2022 was great!  I got into more formal project management on Github, better planning and note taking in Obsidian MD, and <em>lots</em> of development work &amp; experiments.</p>\n<p><strong>2022 Retrospective</strong></p>\n<p>Looking at my git commits, I did the majority of systems work in 2022: FoV, Pathfinding, Aspect system, Logger, <a href=\"https://mastodon.gamedev.place/@KPD/109424618812008050\">Peek View</a>, Combat, <a href=\"https://mastodon.gamedev.place/@KPD/109594918221039157\">Undos</a>.  I'm pretty proud of making all of this work, work together nicely, and hopefully be easy enough to transfer to another project as needed (7DRL soon :)).</p>\n<p>I keep trying to figure out how I want the art to work, and did some tests: prerendered 3D from blender, as well as downscaled 2D illustration tests.  Overall, I love experimenting with the art pipeline to find something bearable (want lots of code work &amp; design iteration without tons of art &amp; effort).  Ultimately, neither result ended up filling me with joy, and both of them are meaningfully more work than my current low-fidelity pixel work.  I bought an asset pack for abilities (maybe just for dev, maybe permanently, not sure) and have been messing around with palette cycling &amp; indexed sprites for recoloring.  All signs point to keeping with the current aesthetic in the game view for a while.</p>\n<p>One outcome of the art experiments is that the game allows entity sprites to be any size (they'll get scaled appropriately on load).  This is a meaningful step towards loading all my assets from other sources and allowing visual mods, though that light is still at the end of a very long tunnel.</p>\n<p><strong>2023 Outlook</strong></p>\n<p>This year I'm hoping to get a very simple vertical slice up and running for my close friends in the first half, and fully flesh out my planned meta after wards.  the map generating needs a big overhaul: I want to refactor a lot of it, but the system I want to implement relies on Godot's graphedit functionality, which appears to be in flux in 4.0.  on that note, will be porting the game to 4.0 whenever its out of beta, so that will slow me down a bit (but I'm hoping to benefit from the GDScript 2.0 changes in a big way).  I may also rewrite some of my more taxing code in C#: none of it is a deal breaker yet, but there's some obvious optimizations to be had.</p>\n<p><strong>Links</strong>\n<a href=\"https://mastodon.gamedev.place/@KPD\">Mastodon</a></p>\n",
			"date_published": "2023-01-15T00:00:00Z"
		}
		,
		{
			"id": "https://kpdwyer.github.io/blog/swordsend/30-12-2022archive/",
			"url": "https://kpdwyer.github.io/blog/swordsend/30-12-2022archive/",
			"title": "Sword&#39;s End r/roguelikedev 11",
			"content_html": "<h1 id=\"unnamed-cursed-sword-rl-11\" tabindex=\"-1\">Unnamed Cursed Sword RL #11 <a class=\"header-anchor\" href=\"https://kpdwyer.github.io/blog/swordsend/30-12-2022archive/\">#</a></h1>\n<p><em>originally posted on Reddit in the r/roguelikedev subreddit</em></p>\n<p>Hello,</p>\n<p>Still hacking away at Sword's End!  I'm not 100% on the name, but I'll lock it in soon I suspect.  I've burned through my combat milestone over December, so the game has health, damage, heals, death and resurrection (all undoable).  I've also built a couple of more involved abilities like...</p>\n<ul>\n<li>Charge: charge in a straight line towards an enemy, dealing 1 damage per tile travelled.</li>\n<li>Headbutt: deal 4 damage to an adjacent target, take 2 damage</li>\n<li>Pinch: deal 2 damage to an adjacent.  Double the damage if the target is to the left or right.\nand more.  Here's a <a href=\"https://mastodon.gamedev.place/@KPD/109600542593786415\">clip</a></li>\n</ul>\n<p>On player death, I've added a simple &quot;undo 1 turn&quot; button which was basically free (implementation wise), but showed me a handful of bugs around death/resurrection undos, undoing over-heals, clamping health after taking damage, etc.  All cleaned up now.  Here's a different <a href=\"https://mastodon.gamedev.place/@KPD/109594918221039157\">clip</a></p>\n<p>Hope everyone has a great week!</p>\n",
			"date_published": "2022-12-30T00:00:00Z"
		}
		,
		{
			"id": "https://kpdwyer.github.io/blog/swordsend/10-12-2022archive/",
			"url": "https://kpdwyer.github.io/blog/swordsend/10-12-2022archive/",
			"title": "Sword&#39;s End r/roguelikedev 10",
			"content_html": "<h1 id=\"unnamed-cursed-sword-rl-10\" tabindex=\"-1\">Unnamed Cursed Sword RL #10 <a class=\"header-anchor\" href=\"https://kpdwyer.github.io/blog/swordsend/10-12-2022archive/\">#</a></h1>\n<p><em>originally posted on Reddit in the r/roguelikedev subreddit</em></p>\n<p>Hello,</p>\n<p>Still chipping away at it in my sparse free time!  since <a href=\"https://www.reddit.com/r/roguelikedev/comments/xsez9j/comment/iqnxcxi/?utm_source=reddit&amp;utm_medium=web2x&amp;context=3\">my last post</a>, I finished implementing my new UI, the new Turn Order Bar, optimized the heck out of some pathfinding, refactored some shaky code and developed most of my &quot;inspect&quot; feature.</p>\n<p>Inspect: You can inspect any cell to get info about what you can see on it.  the Logger also &quot;hyperlinks&quot; to the inspect funtionality if you click on an entity name or ability name.  the inspector can show info about entities, aspects (my game's class system) and abilities (with cell localtion coming soon).  An entity's Inspect panel might show a list of its abilities, as well as each of the aspects that makes up the entity.  these can be clicked on to inspect each, with &quot;back&quot; and &quot;forward&quot; functionality.  kind of a built-in wiki.  the game highlights the selected entity by outlining it, so there was some simple shader work involved as well.  its not 100% yet (about 90%), but I'm happy with what I've got.</p>\n<p>I also added the energy impact of the selected ability to the Turn Order Bar, so you can see how an ability's energy cost affects your turn order.</p>\n<p>Current best name idea: At Sword's End (or @ Swords End ;))</p>\n<p>Hope everyone has a great week!</p>\n",
			"date_published": "2022-12-10T00:00:00Z"
		}
		,
		{
			"id": "https://kpdwyer.github.io/blog/swordsend/01-10-2022archive/",
			"url": "https://kpdwyer.github.io/blog/swordsend/01-10-2022archive/",
			"title": "Sword&#39;s End r/roguelikedev 9",
			"content_html": "<h1 id=\"unnamed-cursed-sword-rl-9\" tabindex=\"-1\">Unnamed Cursed Sword RL #9 <a class=\"header-anchor\" href=\"https://kpdwyer.github.io/blog/swordsend/01-10-2022archive/\">#</a></h1>\n<p><em>originally posted on Reddit in the r/roguelikedev subreddit</em></p>\n<p>Hello,</p>\n<p>Still chipping away a this project intermittently.  since my last post, I've fixed a ton of bugs, moved some pathfinding to Dijkstra maps, finish my UI mock and started implementing it in-engine and got undo/redo working.  I also wrote some simple save data stuff to help me reproduce bugs in specific generation seeds.</p>\n<p>My UI Implementation is not 100% yet, but I'm pretty happy with it so far.  here's a clip of the turn order bar in action. (Editor's Note: Lost to Time)</p>\n<p>I've got a handful of smaller bugs to clean up in the coming week, and I'd like to get the turn order bar to preview how your selected skill will affect all entity's energy levels.</p>\n<p>Hope everyone has a great week!</p>\n",
			"date_published": "2022-10-01T00:00:00Z"
		}
		,
		{
			"id": "https://kpdwyer.github.io/blog/swordsend/13-08-2022archive/",
			"url": "https://kpdwyer.github.io/blog/swordsend/13-08-2022archive/",
			"title": "Sword&#39;s End r/roguelikedev 8",
			"content_html": "<h1 id=\"unnamed-cursed-sword-rl-8\" tabindex=\"-1\">Unnamed Cursed Sword RL #8 <a class=\"header-anchor\" href=\"https://kpdwyer.github.io/blog/swordsend/13-08-2022archive/\">#</a></h1>\n<p><em>originally posted on Reddit in the r/roguelikedev subreddit</em></p>\n<p>Hello!  spent a week messing with upscaling my game from 16 by 16 tiles to 128 by 128 just for kicks.  it worked fine, but I'm going to stick to pixel art for now to keep the project code-centric, rather than art- and pipeline-centric. here's some screenshots anyways! https://imgur.com/a/ommFj7Z https://imgur.com/a/9K8W253</p>\n<p>Otherwise I chipped away at a new UI mock, thats here. https://imgur.com/a/ommFj7Z</p>\n<p>In the coming week, I'm hoping to start taking a chunk out of one of the larger features on my list: Auto-Explore or round replay.</p>\n",
			"date_published": "2022-08-13T00:00:00Z"
		}
		,
		{
			"id": "https://kpdwyer.github.io/blog/swordsend/30-07-2022archive/",
			"url": "https://kpdwyer.github.io/blog/swordsend/30-07-2022archive/",
			"title": "Sword&#39;s End r/roguelikedev 7",
			"content_html": "<h1 id=\"unnamed-cursed-sword-rl-7\" tabindex=\"-1\">Unnamed Cursed Sword RL #7 <a class=\"header-anchor\" href=\"https://kpdwyer.github.io/blog/swordsend/30-07-2022archive/\">#</a></h1>\n<p><em>originally posted on Reddit in the r/roguelikedev subreddit</em></p>\n<p>Hey friends!  its been six months but I'm back at it with my little Godot Cursed Sword Roguelike.  I refactored the entire turn manager &amp; ability system to work with a command queue, and now every turn can be undone visually.  Here's a clip: (Editor's Note: Lost to time).  There's a bit more work to do to get run replays working, but the end is in sight.  As an aside, I also ended up writing my save/load for Game Settings, so I can save and load specific generations to help with testing.</p>\n<p>I'd like to get replays working, and I have a plan to store multiple abilities under each ability slot soon.  I'd also like to get some UI cleaned up and make a few non-movement abilities before I dig into combat.</p>\n",
			"date_published": "2022-07-30T00:00:00Z"
		}
		,
		{
			"id": "https://kpdwyer.github.io/blog/swordsend/28-01-2022archive/",
			"url": "https://kpdwyer.github.io/blog/swordsend/28-01-2022archive/",
			"title": "Sword&#39;s End r/roguelikedev 6",
			"content_html": "<h1 id=\"unnamed-cursed-sword-rl-6\" tabindex=\"-1\">Unnamed Cursed Sword RL #6 <a class=\"header-anchor\" href=\"https://kpdwyer.github.io/blog/swordsend/28-01-2022archive/\">#</a></h1>\n<p><em>originally posted on Reddit in the r/roguelikedev subreddit</em></p>\n<p>Hey there! Another slow week for me, but I got the abilities clickable from the console window via Godot's BBCode URL tags.  Eventually I'd like it to be built out so that you can clcik on key words (abilities, effects, stats) etc to get all the info you need with minimal effort.  there's a clip in my twitter thread here. (Editor's Note: Lost to time)</p>\n<p>I've got to start chipping away at combat soon, but there's always lots of other stuff to work on!  and refactoring to happen.  Just taking it a day at a time.  Super inspired by everyone else's progress!</p>\n",
			"date_published": "2022-01-28T00:00:00Z"
		}
		,
		{
			"id": "https://kpdwyer.github.io/blog/swordsend/2022/",
			"url": "https://kpdwyer.github.io/blog/swordsend/2022/",
			"title": "Sword&#39;s End 2022 Outlook",
			"content_html": "<h1 id=\"cursed-sword-roguelike-2022\" tabindex=\"-1\">Cursed Sword Roguelike 2022 <a class=\"header-anchor\" href=\"https://kpdwyer.github.io/blog/swordsend/2022/\">#</a></h1>\n<p><em>originally posted on Reddit in the r/roguelikedev subreddit</em></p>\n<p><strong>Unnamed Cursed Sword Roguelike</strong></p>\n<p>Unnamed Cursed Sword Roguelike is a game I've been building to learn Godot &amp; to explore some code architecture.  In the game, you're a cursed sword that can possess different entites, trying to uncover the truth about your origins.  I'm excited about the ideas I have to mix and match ability sets, possess entities &amp; introduce other cursed weapons.</p>\n<p><strong>2021 Retrospective</strong></p>\n<p>I started in 2021!  My son spent a lot of time learning Godot, so I joined in.  I've been using Unity full time for more than 10 years and just wanted to do some professional development that felt less like work.  I'm pretty happy with what I've done so far, but I'm also aware the project has involved a lot of refactors as I play with architecture and learn about Godot.</p>\n<p><strong>2022 Outlook</strong></p>\n<p>This year, I'm aiming to tie off the gameplay loop and have something playable.  I'd also love to get it running and playable with controllers, and on touch.</p>\n<p>Another concept I'm interested in pursuing is being able to load custom tilesets &amp; sprites for gameplay.  this is a bit more far fetched with how everything is built right now, but I may take a chunk of time to give it a real test and see if it'll slow down content cadence.</p>\n<p>On the topic of distractions, I'm excited about making something where the design mentality is a little bit less about elegance and more about the kitchen sink.  Even if I get distracted by other projects I'm going to try and have my other distractions orbit around the world and game I'm trying to build.</p>\n",
			"date_published": "2022-01-15T00:00:00Z"
		}
		,
		{
			"id": "https://kpdwyer.github.io/blog/swordsend/08-01-2022archive/",
			"url": "https://kpdwyer.github.io/blog/swordsend/08-01-2022archive/",
			"title": "Sword&#39;s End r/roguelikedev 6",
			"content_html": "<h1 id=\"unnamed-cursed-sword-rl-6\" tabindex=\"-1\">Unnamed Cursed Sword RL #6 <a class=\"header-anchor\" href=\"https://kpdwyer.github.io/blog/swordsend/08-01-2022archive/\">#</a></h1>\n<p><em>originally posted on Reddit in the r/roguelikedev subreddit</em></p>\n<p>Hey there!  I didn't have a ton of time this week, but I managed to do a bunch of refactoring I needed to prep the game for generating entities.  I needed to move a lot of logic-related code out of the Node objects (visuals).  I had written the generic random data table system (defining functional loot tables from the inspector) months ago, and it was nice to just shove my entity aspects into it without much fuss and have it work.  There was a quick post last night of some progress in these regards.</p>\n<h2 id=\"what-are-aspects\" tabindex=\"-1\">What are Aspects? <a class=\"header-anchor\" href=\"https://kpdwyer.github.io/blog/swordsend/08-01-2022archive/\">#</a></h2>\n<p>Aspects are the building blocks of the game's entities.  each Entity is composed of 2 or more aspects (just 2 right now).  Each aspect has a list of Primary, Secondary and Static abilities, which will be granted to an entity depending on whether its a primary or secondary Aspect of the entity.  I call them Aspects because it leaves it open to be classes, races or even weirder stuff that wouldn't conform to a category as such.</p>\n<p>An aspect's visuals are the Primary Aspect's icon, palette swapped with the color set from the secondary aspect.  each Aspect has 2 strings: a name and a descriptor.  so a Crab and a Human could generate both a <code>Chitinous Human</code> and a <code>Fleshy Crab</code>, depending on which is primary.</p>\n<p>The Aspect system is inspired by Solitairica's deck system, and I'm hoping the generated enemies give the player an abundance of options when choosing whether to engage, possess or avoid certain entities.</p>\n",
			"date_published": "2022-01-08T00:00:00Z"
		}
		,
		{
			"id": "https://kpdwyer.github.io/blog/swordsend/01-01-2022archive/",
			"url": "https://kpdwyer.github.io/blog/swordsend/01-01-2022archive/",
			"title": "Sword&#39;s End r/roguelikedev 4",
			"content_html": "<h1 id=\"unnamed-cursed-sword-rl-4\" tabindex=\"-1\">Unnamed Cursed Sword RL #4 <a class=\"header-anchor\" href=\"https://kpdwyer.github.io/blog/swordsend/01-01-2022archive/\">#</a></h1>\n<p><em>originally posted on Reddit in the r/roguelikedev subreddit</em></p>\n<p>Happy New Year folks! This week I rewrote my BSP map generation and broke my map generation into discrete, standalone steps in hopes to ease the eventual implementation of unique area &amp; generation settings. It was a somewhat boring first step to getting the entity sleep / combat states set up.  Some new gifs of the map generation work on the twitter thread here.(editor's note: lost to time)</p>\n",
			"date_published": "2022-01-01T00:00:00Z"
		}
		,
		{
			"id": "https://kpdwyer.github.io/blog/swordsend/25-12-2021archive/",
			"url": "https://kpdwyer.github.io/blog/swordsend/25-12-2021archive/",
			"title": "Sword&#39;s End r/roguelikedev 3",
			"content_html": "<h1 id=\"unnamed-cursed-sword-rl-3\" tabindex=\"-1\">Unnamed Cursed Sword RL #3 <a class=\"header-anchor\" href=\"https://kpdwyer.github.io/blog/swordsend/25-12-2021archive/\">#</a></h1>\n<p><em>originally posted on Reddit in the r/roguelikedev subreddit</em></p>\n<p>Happy Holidays folks!  I threw most of my locomotion abilities onto the dev-slime entity and got abilitity swapping running.   Quick gif of that at the tail end of the twitter thread here. (editor's note: lost to time)</p>\n<p>I cleared out some warnings and fixed a very-edge-case room generation bug.</p>\n<p>I also wrote the tiniest shader for 2-tone palette swapping on godot sprites - I work as a Technical Artist so I really have to reign in the desire to add tons of flashiness to everything.  I'm trying to keep the effort cost of creating new things (abilities, entities, etc) as low as possible for now.</p>\n<p>Also got the AI taking turns, but in a really dumb way (walk down unless you can't, then walk up).  I'm really hoping to add <code>auto-explore</code> &amp; <code>combat</code> states to the player, and <code>sleep</code> and <code>combat</code> states to the AI entities.  Aiming to start from a system similar to the Mystery Dungeon games. That's probably next.</p>\n",
			"date_published": "2021-12-25T00:00:00Z"
		}
		,
		{
			"id": "https://kpdwyer.github.io/blog/swordsend/18-12-2021archive/",
			"url": "https://kpdwyer.github.io/blog/swordsend/18-12-2021archive/",
			"title": "Sword&#39;s End r/roguelikedev 2",
			"content_html": "<h1 id=\"unnamed-cursed-sword-rl-2\" tabindex=\"-1\">Unnamed Cursed Sword RL #2 <a class=\"header-anchor\" href=\"https://kpdwyer.github.io/blog/swordsend/18-12-2021archive/\">#</a></h1>\n<p><em>originally posted on Reddit in the r/roguelikedev subreddit</em></p>\n<p>Hello again! I finished off most of my Selector work, upscaled existing art (there's not much yet) from 8_8 to 16_16, and cleaned up a lot of movement code - there's step (4-directional, distance 1), dash(any square within 4 single steps), blink (any square within 5 steps, line of sight not needed, can blink through walls) and knight (l-shape, like a knight from chess).</p>\n<p>Every character will have step I think, but many will have unique locomotion skills or traits, so it seemed worth tackling the handful of implementation differences I know I'll need.</p>\n<p>I'll try to make sure I have some visuals for next time, and will link to them. Hoping to get started on ability UI and AI entities shortly.</p>\n",
			"date_published": "2021-12-18T00:00:00Z"
		}
		,
		{
			"id": "https://kpdwyer.github.io/blog/swordsend/11-12-2021archive/",
			"url": "https://kpdwyer.github.io/blog/swordsend/11-12-2021archive/",
			"title": "Sword&#39;s End r/roguelikedev 1",
			"content_html": "<h1 id=\"unnamed-cursed-sword-rl-1\" tabindex=\"-1\">Unnamed Cursed Sword RL #1 <a class=\"header-anchor\" href=\"https://kpdwyer.github.io/blog/swordsend/11-12-2021archive/\">#</a></h1>\n<p><em>originally posted on Reddit in the r/roguelikedev subreddit</em></p>\n<p>Hello!  I've been lurking for a while, first time posting.  I'm building a roguelike about a cursed sword in Godot!  Originally I was just learning Godot &amp; more complex design patterns, but I've fallen into a pretty good rhythm working on it. I've got some designs for its future, so here I am on sharing Saturday.</p>\n<p>Cursed Sword RL (temp name) is a graphical roguelike in Godot with a focus on accessibility.  I've got a lot of notes in my actual code, but I keep an external digital notebook, which can be handy when i can't see the forest for the trees.  I'm still working on finding a good home for sharing progress on the game, but I've got a twitter thread <a href=\"https://mastodon.gamedev.place/@KPD/109741771388549456\">here</a>. (Editing note: my twitter is deleted. link should lead to a random Sword's End mastodon post)</p>\n<p>This week I've been working on UX.  I want mouse, keyboard and controller support and I'm trying to build it from the ground up with what I've called Selectors, which are spawned as needed with locations, neighbours (for selecting via directional input), shortcut labels and clickable buttons.  I'm about halfway through and it looks like this right now.</p>\n<p>Thanks for taking a look, and will post less next time.</p>\n",
			"date_published": "2021-12-11T00:00:00Z"
		}
		,
		{
			"id": "https://kpdwyer.github.io/blog/markovjr/",
			"url": "https://kpdwyer.github.io/blog/markovjr/",
			"title": "Markov Jr",
			"content_html": "<p>Inspired by <a href=\"https://github.com/mxgmn/MarkovJunior\">mxgmn</a>, I implemented a simple set of rules of Markov Jr in Godot.  Markov Jr needs some boilerplate work to make nodes operate in any nonlinear way (hiearchies, subgraphs, etc). I opted out of doing this work unless I could complete the work to make <code>inference</code> work, which allows user to enforce constraints on a sequence to varying effects.  I never go that far, but my implementation was enough to generate mazes and flood fills.</p>\n<p>It is my hope to revisit Markov Jr as part of the Godot port of my <a href=\"https://kpdwyer.github.io/blog/NodeMaps\">Node Mapping</a> project.</p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><picture><source type=\"image/webp\" srcset=\"https://kpdwyer.github.io/img/x0ZNsV6urp-1226.webp 1226w\"><img alt=\"\" loading=\"lazy\" decoding=\"async\" src=\"https://kpdwyer.github.io/img/x0ZNsV6urp-1226.png\" width=\"1226\" height=\"803\"></picture></td>\n<td>A flood fill is a very simple markovjr ruleset w/ 2 rules.  see the <a href=\"https://kpdwyer.github.io/clips/mkjr_flood.mp4\">video here</a>.</td>\n</tr>\n<tr>\n<td><picture><source type=\"image/webp\" srcset=\"https://kpdwyer.github.io/img/rBzfCifspw-1222.webp 1222w\"><img alt=\"\" loading=\"lazy\" decoding=\"async\" src=\"https://kpdwyer.github.io/img/rBzfCifspw-1222.png\" width=\"1222\" height=\"1144\"></picture></td>\n<td>With only 3 rules and no code changes, you can implement the entirety of a backtrack maze algorithm.  <a href=\"https://kpdwyer.github.io/clips/mkjr_maze.mp4\">video here</a>.</td>\n</tr>\n</tbody>\n</table>\n",
			"date_published": "2021-06-20T00:00:00Z"
		}
		,
		{
			"id": "https://kpdwyer.github.io/blog/wfc/",
			"url": "https://kpdwyer.github.io/blog/wfc/",
			"title": "Wave Function Collapse",
			"content_html": "<p>Inspired by <a href=\"https://github.com/mxgmn/WaveFunctionCollapse\">mxgmn</a> &amp; <a href=\"https://twitter.com/OskSta\">Oskar St√•lberg</a>, I spent a bunch of time building out a Unity implementation for WFC using tilemaps.  This was a fun exercising in optimization, and taught me a lot about how procedural generation can still leave room for authored editing: to me, the strength of WFC is allowing both the designer and the algorithm to &quot;collapse&quot; any of the nodes, opening up myriad ways to collaborate with the machine.</p>\n<p>Source for WFC is closed.  The code is not documented well enough to be of any use to anyone, but interested parties can reach out if they want to learn more.  As usual, it's worth noting that performance in these clips is often bound by screen capture / streaming, and staggered execution is an intentional choice to make the videos more interesting!</p>\n<p><a href=\"https://www.youtube.com/watch?v=AfUS6-QcaNw\">Staggered Fill on YouTube</a> - In this clip, each contiguous island can be clicked on to destroy the island, and then refill via WFC.  each new island is covered based on it's center point's distance to the middle of the square.</p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><a href=\"https://kpdwyer.github.io/clips/wfc_simplegen_small.gif\"><picture><source type=\"image/gif\" srcset=\"https://kpdwyer.github.io/img/NegFJBZqYE-414.gif 414w\"><img alt=\"\" loading=\"lazy\" decoding=\"async\" src=\"https://kpdwyer.github.io/img/NegFJBZqYE-414.webp\" width=\"414\" height=\"458\"></picture></a></td>\n<td>I started off with a simple generator using a basic pipe tileset</td>\n</tr>\n<tr>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td><picture><source type=\"image/webp\" srcset=\"https://kpdwyer.github.io/img/jtGb_NPhf4-400.webp 400w\"><img alt=\"\" loading=\"lazy\" decoding=\"async\" src=\"https://kpdwyer.github.io/img/jtGb_NPhf4-400.png\" width=\"400\" height=\"400\"></picture></td>\n<td>But ended up making a more complex pipes set with overpasses, endings and other features.  I fell in love with the pictures I could find in the chaos.</td>\n</tr>\n<tr>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td><picture><source type=\"image/webp\" srcset=\"https://kpdwyer.github.io/img/pmAl6wWsOm-400.webp 400w\"><img alt=\"\" loading=\"lazy\" decoding=\"async\" src=\"https://kpdwyer.github.io/img/pmAl6wWsOm-400.png\" width=\"400\" height=\"400\"></picture></td>\n<td>I began constraining the generation within shapes by selectively allowing regions.</td>\n</tr>\n<tr>\n<td></td>\n<td></td>\n</tr>\n</tbody>\n</table>\n<p>Which lead to interactions like the following clips, where the user could select a region manually to trigger rebuilds of the WFC.</p>\n<p><a href=\"https://kpdwyer.github.io/clips/radial_sample.mp4\">radial_sample</a></p>\n<p><a href=\"https://kpdwyer.github.io/clips/gameplay_destruction.mp4\">gameplay_destruction</a></p>\n",
			"date_published": "2020-03-20T00:00:00Z"
		}
		,
		{
			"id": "https://kpdwyer.github.io/blog/nodemaps/",
			"url": "https://kpdwyer.github.io/blog/nodemaps/",
			"title": "NodeMaps",
			"content_html": "<p>I built a node-based mapping library for Unity, using the xNode plugin for the graph tooling.  I build a lot of grid-based games and was hoping to create a Shader-Graph-like solution for generating tile maps.  This tool is open sourced  <a href=\"https://github.com/KPDwyer/rlbits-mapping\">here</a>.</p>\n<h2 id=\"needs\" tabindex=\"-1\">Needs <a class=\"header-anchor\" href=\"https://kpdwyer.github.io/blog/nodemaps/\">#</a></h2>\n<p>When generating maps in a code-driven way, you often need to layer and combine noise patterns in a variety of ways, testing and tweaking as you go.  This iterative process can be slow when changing code every test - or time consuming and unwieldy to expose all of the appropriate elements to the inspector.  Compounding this is that rather than a singular result, you are often building something robust that can be generated in a multitude of ways, so each iteration needs to be tested with some set of changing parameters: often <code>seed</code>, but also <code>map_size</code> and other elements.</p>\n<h2 id=\"solution\" tabindex=\"-1\">Solution <a class=\"header-anchor\" href=\"https://kpdwyer.github.io/blog/nodemaps/\">#</a></h2>\n<p>The Node Graph workflow lends itself well to these needs: you can preview your map generator at multiple steps in the generation, as well as across multiple seeds.  Live Preview can be made to react to scrubbing of value, and pieces of the genreator can be detached from others to isolate elements that need fixing.</p>\n<h2 id=\"present-and-future\" tabindex=\"-1\">Present &amp; Future <a class=\"header-anchor\" href=\"https://kpdwyer.github.io/blog/nodemaps/\">#</a></h2>\n<p>The tool is open sourced <a href=\"https://github.com/KPDwyer/rlbits-mapping\">here</a>.  I intend to rebuild it in Godot 4, as a <code>GraphEdit</code> and <code>Noise</code> refactor are slated to be refactored.</p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><a href=\"https://kpdwyer.github.io/clips/nodemap_noisecell.mp4\"><picture><source type=\"image/gif\" srcset=\"https://kpdwyer.github.io/img/7F_2_FHGZr-2014.gif 2014w\"><img alt=\"\" loading=\"lazy\" decoding=\"async\" src=\"https://kpdwyer.github.io/img/7F_2_FHGZr-2014.webp\" width=\"2014\" height=\"1204\"></picture></a></td>\n<td>Another strength of this tool is combining procedural methods from different domains: like experiementing with cellular automation applied to the ouput of traditional perlin noise</td>\n</tr>\n<tr>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td><a href=\"https://kpdwyer.github.io/clips/nodemap_shapetweaks.gif\"><picture><source type=\"image/gif\" srcset=\"https://kpdwyer.github.io/img/2hPG_-rccL-1995.gif 1995w\"><img alt=\"\" loading=\"lazy\" decoding=\"async\" src=\"https://kpdwyer.github.io/img/2hPG_-rccL-1995.webp\" width=\"1995\" height=\"1580\"></picture></a></td>\n<td>You can tweak how a Minimum Spanning Tree is connected, but also how the tool stores and renders that data.</td>\n</tr>\n<tr>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td><a href=\"https://kpdwyer.github.io/clips/nodemap_scrubmaze.gif\"><picture><source type=\"image/gif\" srcset=\"https://kpdwyer.github.io/img/K2fuXtqFcx-964.gif 964w\"><img alt=\"\" loading=\"lazy\" decoding=\"async\" src=\"https://kpdwyer.github.io/img/K2fuXtqFcx-964.webp\" width=\"964\" height=\"964\"></picture></a></td>\n<td>Quick gif that shows how scrubbing the <code>seed</code> param allows you to view many outputs of a graph</td>\n</tr>\n<tr>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td><picture><source type=\"image/webp\" srcset=\"https://kpdwyer.github.io/img/uUZvvh03EB-1620.webp 1620w\"><img alt=\"\" loading=\"lazy\" decoding=\"async\" src=\"https://kpdwyer.github.io/img/uUZvvh03EB-1620.png\" width=\"1620\" height=\"1525\"></picture> <picture><source type=\"image/webp\" srcset=\"https://kpdwyer.github.io/img/stRJEKGz3A-3840.webp 3840w\"><img alt=\"\" loading=\"lazy\" decoding=\"async\" src=\"https://kpdwyer.github.io/img/stRJEKGz3A-3840.jpeg\" width=\"3840\" height=\"1830\"></picture> <picture><source type=\"image/webp\" srcset=\"https://kpdwyer.github.io/img/R8h2aczhs2-1620.webp 1620w\"><img alt=\"\" loading=\"lazy\" decoding=\"async\" src=\"https://kpdwyer.github.io/img/R8h2aczhs2-1620.jpeg\" width=\"1620\" height=\"1525\"></picture></td>\n<td>I wrote a couple of different consumers for the output, including a 3d terrain plugin.</td>\n</tr>\n</tbody>\n</table>\n",
			"date_published": "2020-01-03T00:00:00Z"
		}
		,
		{
			"id": "https://kpdwyer.github.io/blog/autotilepipeline/autotile/",
			"url": "https://kpdwyer.github.io/blog/autotilepipeline/autotile/",
			"title": "Autotile Pipeline",
			"content_html": "<h1 id=\"overview-quick-start\" tabindex=\"-1\">Overview + Quick Start <a class=\"header-anchor\" href=\"https://kpdwyer.github.io/blog/autotilepipeline/autotile/\">#</a></h1>\n<p>I created some tools to reduce the friction of importing AutoTile assets into Unity.  If the art is made in a specific format (in this case RPGMaker's A2 sheet), using one of these tools will remove all or most of the user interaction required to make a RuleTile for use in your game.</p>\n<p>The easiest starting point is <a href=\"https://github.com/KPDwyer/FullsizedAutoTIle\">Implementation 1 - Fullsized Tiles</a>, so if all you want is what I've described, check out the Github README for basic usage.</p>\n<p>However, if you find that The Fullsized Tiles generate a bit too many textures for your liking, take a look at <a href=\"https://github.com/KPDwyer/SubTileAutoTile\">Implementation 2 - Subtiles</a>, which perhaps requires a bit more effort to setup, but won't generate any textures beyond the source asset.</p>\n<p>If you're interested in the project as a whole: Take a look at the <a href=\"https://github.com/KPDwyer/AutoTileImporter\">Working Project</a>, and read on.</p>\n<h1 id=\"goal\" tabindex=\"-1\">Goal <a class=\"header-anchor\" href=\"https://kpdwyer.github.io/blog/autotilepipeline/autotile/\">#</a></h1>\n<p>RPG Maker has a real nice &quot;auto tile&quot; system, whereby you load in a fairly simple asset and when you use the tile generated by that asset to draw on the Tilemap, it automatically renders each tile such that it is aware of its local neighbors.</p>\n<p><picture><source type=\"image/webp\" srcset=\"https://kpdwyer.github.io/img/HjQkysD_er-1126.webp 1126w\"><img alt=\"On Left, A2 Source Asset.  On right, the output in tilemap editor\" loading=\"lazy\" decoding=\"async\" src=\"https://kpdwyer.github.io/img/HjQkysD_er-1126.png\" width=\"1126\" height=\"560\"></picture></p>\n<p>This is generally known as AutoTiling, and will be referred to as such in this article.</p>\n<p>I set out to duplicate the functionality of RPGMaker's AutoTiling - specifically what is commonly known as their A2 sheet, shown above.  I was surprised to find that while Unity accommodates the creation of these AutoTiles, a few layers of complexity prevent it from being as smooth as RPGMaker's UX.</p>\n<p>My goal was to familiarize myself with the Tilemap pipeline by making it as low-effort as possible to convert an RPG Maker A2 Tileset PNG into a Unity RuleTile.</p>\n<h1 id=\"obstacles\" tabindex=\"-1\">Obstacles <a class=\"header-anchor\" href=\"https://kpdwyer.github.io/blog/autotilepipeline/autotile/\">#</a></h1>\n<h2 id=\"obstacle-1-2d-extras\" tabindex=\"-1\">Obstacle 1: 2D-Extras <a class=\"header-anchor\" href=\"https://kpdwyer.github.io/blog/autotilepipeline/autotile/\">#</a></h2>\n<p>Unity introduced its 2D Tilemap system some time ago, and it comes with very customizable tiles and brushes.  It's a great system, but it doesn't come with everything out of the box - you have to find their <code>2D-extras</code> <a href=\"https://github.com/Unity-Technologies/2d-extras\">repository on GitHub</a> to really dig in to the common use cases for the flexibility it provides.  This is a pain, as it seems like most of the demos of this system I've seen have centered around the RuleTile, which isn't even in the core feature set. Odd.</p>\n<h2 id=\"obstacle-2-ruletile-s-interface\" tabindex=\"-1\">Obstacle 2: RuleTile's Interface <a class=\"header-anchor\" href=\"https://kpdwyer.github.io/blog/autotilepipeline/autotile/\">#</a></h2>\n<p><picture><source type=\"image/webp\" srcset=\"https://kpdwyer.github.io/img/WQ1Dwwj61p-400.webp 400w\"><img alt=\"Vanilla RuleTile inspector\" loading=\"lazy\" decoding=\"async\" src=\"https://kpdwyer.github.io/img/WQ1Dwwj61p-400.png\" width=\"400\" height=\"689\"></picture></p>\n<p>This is an obstacle I expected to find.  Based on previous reading, I knew that to use Unity's RuleTile meant to use their custom inspector.  While the inspector is very pretty, manually creating each rule takes an unreasonable amount of time - there are 256 possible combinations with 2 states in 8 directions.  That assumes we are using 2 states (we are!) but Unity throws a curve ball by adding a &quot;don't care&quot; state on top! The total possible permutations rises to 6561.  We only care about 2 states, but even 256 permutations is too many:  RPGMaker's AutoTiler only actually cares about 48 of these permutations.</p>\n<p>Once those rules are set, we need to assign a sprite to each rule. That means having a folder of several sprites, and manually dragging them to the Sprite Field on the inspector.  This is a lot of friction between <code>finishing the art</code> and <code>being able to paint tiles with the art</code>, and it must be done for each unique Tileset.  The crux of this exercise was, given a known Tileset layout, remove all of the friction of turning a Tileset into a RuleTile.</p>\n<p>If you're interested in reading further about how AutoTiling works, check out these links: <a href=\"http://www.angryfishstudios.com/2011/04/adventures-in-bitmasking/\">Adventures in Bitmasking</a>  and <a href=\"https://gamedevelopment.tutsplus.com/tutorials/how-to-use-tile-bitmasking-to-auto-tile-your-level-layouts--cms-25673\">How to Use Tile Bitmasking to Auto Tile Your Level Layouts</a>.  There is a lot of literature on the bit masking involved in AutoTiling, but this exercise pertains specifically to replicating RPGMaker's functionality in Unity.</p>\n<h2 id=\"obstacle-3-rpgmaker-s-filthy-lies\" tabindex=\"-1\">Obstacle 3: RPGMaker's Filthy Lies <a class=\"header-anchor\" href=\"https://kpdwyer.github.io/blog/autotilepipeline/autotile/\">#</a></h2>\n<p><picture><source type=\"image/webp\" srcset=\"https://kpdwyer.github.io/img/VrAwe4Z4gJ-256.webp 256w\"><img alt=\"A2 Source Asset\" loading=\"lazy\" decoding=\"async\" src=\"https://kpdwyer.github.io/img/VrAwe4Z4gJ-256.png\" width=\"256\" height=\"384\"></picture></p>\n<p>Keen readers may have already perceived 6 tiles total on the A2 sheet, yet the AutoTile process calls for 48 unique tiles!  RPGMaker is doing something fishy here...  I used a sample Tileset - what appears to be 6 32x32 tiles in a 2x3 grid (thus a resolution of 64x96).  Note the highlighted Tile in the example screenshot.</p>\n<p><picture><source type=\"image/webp\" srcset=\"https://kpdwyer.github.io/img/PBglhI036K-1126.webp 1126w\"><img alt=\"A Nefarious Tile\" loading=\"lazy\" decoding=\"async\" src=\"https://kpdwyer.github.io/img/PBglhI036K-1126.png\" width=\"1126\" height=\"560\"></picture></p>\n<p>The highlighted tile doesn't actually exist in the base atlas! Now, I don't know the implementation details of how RPGMaker actually performs this, but my mental model suggests that while the UX + Source asset of RPGMaker treats these tiles as 32x32, the tiling engine actually paints them as 16x16 tiles - each full-sized tile is actually 4 Subtiles.  I refer to these with cardinal shorthand - NW,NE,SW,SE.</p>\n<p><picture><source type=\"image/webp\" srcset=\"https://kpdwyer.github.io/img/d-CYOJRHCX-575.webp 575w\"><img alt=\"A TileQuad\" loading=\"lazy\" decoding=\"async\" src=\"https://kpdwyer.github.io/img/d-CYOJRHCX-575.png\" width=\"575\" height=\"339\"></picture></p>\n<p>This means the A2 Tileset actually generates 48 usable full-size tiles from a pool of 20 subtiles.  The top left full-size tile is actually just a preview for RPGMaker's palette window, it remains unused in the actual tile painting and rendering at runtime as it's 4 subtiles are contained within the bottom 4 tiles.</p>\n<p><picture><source type=\"image/webp\" srcset=\"https://kpdwyer.github.io/img/O9NEdiLx7Z-256.webp 256w\"><img alt=\"A TileQuad\" loading=\"lazy\" decoding=\"async\" src=\"https://kpdwyer.github.io/img/O9NEdiLx7Z-256.png\" width=\"256\" height=\"384\"></picture></p>\n<p>I knew early on I'd have to manually assign the quads to each rule, as there are too many layers in the translation to do it smoothly / mathematically.</p>\n<p><picture><source type=\"image/webp\" srcset=\"https://kpdwyer.github.io/img/oKBun4Zd-S-512.webp 512w\"><img alt=\"SubTile Indices + TilingEdges\" loading=\"lazy\" decoding=\"async\" src=\"https://kpdwyer.github.io/img/oKBun4Zd-S-512.png\" width=\"512\" height=\"385\"></picture></p>\n<p>I also discovered that the tiling edges matter: in the first tile set shown above, there is no discernible difference between Subtiles 9,10,5 &amp; 6.  However if you simply cut the four of them out of the set and used them like that, it would be fail to adhere to the tiling edges.  In the case of this example, the carpet may line up, but the flagstones in the other set would fail to align correctly.</p>\n<p><picture><source type=\"image/webp\" srcset=\"https://kpdwyer.github.io/img/Lvve5U01Ib-600.webp 600w\"><img alt=\"Subtile edges\" loading=\"lazy\" decoding=\"async\" src=\"https://kpdwyer.github.io/img/Lvve5U01Ib-600.png\" width=\"600\" height=\"192\"></picture></p>\n<p>Subtiles 5 &amp; 6 should be at the Top Right and Top Left respectively of any tile they are a part of, and the same goes for 9 &amp; 10 on the bottom Right and Bottom Left respectively.  If we are listing them clockwise from the NW, <code>[9,10,5,6]</code> should actually be rendered as <code>[6,5,10,9]</code>. The blue lines help visualize the outward facing edges of each subtile.</p>\n<p>Since we know each subtile needs to appear in its target tile in the same local quadrant it occupies in the Tileset atlas, we can simplify the mapping to the following for the sake of manually assigning quads.</p>\n<p><picture><source type=\"image/webp\" srcset=\"https://kpdwyer.github.io/img/kC_IodFR0u-256.webp 256w\"><img alt=\"Tile Indices\" loading=\"lazy\" decoding=\"async\" src=\"https://kpdwyer.github.io/img/kC_IodFR0u-256.png\" width=\"256\" height=\"384\"></picture></p>\n<p>Now that we understand the functionality reasonably well, the most straightforward solution presents itself to us:  lets generate these 48 full-sized tiles from our pool of 20 subtiles.</p>\n<h1 id=\"implementation-1-full-sized-tiles\" tabindex=\"-1\">Implementation 1: Full-sized Tiles <a class=\"header-anchor\" href=\"https://kpdwyer.github.io/blog/autotilepipeline/autotile/\">#</a></h1>\n<h2 id=\"target-output\" tabindex=\"-1\">Target Output <a class=\"header-anchor\" href=\"https://kpdwyer.github.io/blog/autotilepipeline/autotile/\">#</a></h2>\n<p>The Ideal result of the full-sized tiles implementation is that a developer should be able to perform a single action (ideally a right-click menu item) on an A2 PNG and immediately be served a RuleTile generated from that asset.  Spoilers: I did it.  Double Spoilers: I hate it.</p>\n<h2 id=\"step-by-step\" tabindex=\"-1\">Step by Step <a class=\"header-anchor\" href=\"https://kpdwyer.github.io/blog/autotilepipeline/autotile/\">#</a></h2>\n<p>The first step for any of these solutions is simply to generate the rules for the RuleTile.  This is sort of an inversion of the standard AutoTiling bit mask:  while looping through 0-255, given an integer value, which tiles should be occupied for this rule?  We have some real ugly code for removing the rules we don't care about, but code elegance is just a small cost for reducing our total rule count by over 200 redundant rules.  This is the <code>GetRule(int neighbourMask)</code> function in <code>ImportAutotile.cs</code>, and it is used in both implementations.</p>\n<p>We then need to generate a sprite for each rule, using a lookup table.  I've made my lookup tables ScriptableObjects for a few reasons - most importantly, a custom inspector ensures I can make the job of setting up the subtile indices as painless as possible.  Ultimately, the actual object is just an array of integers for subtile indices and a list of TilingRules for nicely visualizing what rule + quad each indices belongs too.  Users of this tool for an A2 Tileset don't need to edit this ScriptableObject at all, but if you were to make a lookup table for a different style of Tileset, it may be handy.</p>\n<p><picture><source type=\"image/webp\" srcset=\"https://kpdwyer.github.io/img/5hQ0mZZK5_-270.webp 270w\"><img alt=\"AutoTile Inspector\" loading=\"lazy\" decoding=\"async\" src=\"https://kpdwyer.github.io/img/5hQ0mZZK5_-270.png\" width=\"270\" height=\"521\"></picture></p>\n<p>So as we generate a sprite for each rule (see <code>GenerateSprite(int neighbourMask, int res, Texture2D source, AutoTileLookup lookup, string folderPath)</code> in <code>ImportAutotile.cs</code>), we grab the values from our lookup table, convert them from Tile indices to Subtile indices based on their quadrant, then we generate a new Texture2D, grab the pixels from the appropriate quads and use <code>SetPixels</code> to write the new texture. we save this texture with the mask value in the filename.</p>\n<p>We do a quick save and refresh of our asset datatbase to be sure the files are imported correctly and have their metadata populated, then we simply iterate through the rules, loading the sprite we generated based on the tilemask for each rule.  Once we've assigned the sprites to the rules we save the RuleTile and voila! - a functioning RuleTile from our source atlas.</p>\n<p><a href=\"https://kpdwyer.github.io/clips/autotile/10_Fullsized.gif\"><picture><source type=\"image/gif\" srcset=\"https://kpdwyer.github.io/img/jDQ77i1EqP-483.gif 483w\"><img alt=\"Fullsized\" loading=\"lazy\" decoding=\"async\" src=\"https://kpdwyer.github.io/img/jDQ77i1EqP-483.webp\" width=\"483\" height=\"268\"></picture></a></p>\n<h2 id=\"problems\" tabindex=\"-1\">Problems <a class=\"header-anchor\" href=\"https://kpdwyer.github.io/blog/autotilepipeline/autotile/\">#</a></h2>\n<h3 id=\"usage\" tabindex=\"-1\">Usage <a class=\"header-anchor\" href=\"https://kpdwyer.github.io/blog/autotilepipeline/autotile/\">#</a></h3>\n<p>First of all, you'll notice this operation is performed upon a PNG but also requires the lookup table data.  The nature of my role as someone who will have to make a few different lookup tables meant I didn't want to make this a simple <code>Right Click -&gt; Generate Autotile</code> script, as I want to provide 2 pieces of information to the function: the actual PNG, and the lookup table.  Thus, I actually trigger the operation with a Sprite Field on the lookup table's ScriptableObject which then triggers the function when you drag a sprite to it.  This is a minor detail though, and should require very little legwork to make it work with a right click.</p>\n<p><picture><source type=\"image/webp\" srcset=\"https://kpdwyer.github.io/img/ZggkLQ0qqe-820.webp 820w\"><img alt=\"ScriptableObject Interface\" loading=\"lazy\" decoding=\"async\" src=\"https://kpdwyer.github.io/img/ZggkLQ0qqe-820.png\" width=\"820\" height=\"386\"></picture></p>\n<h3 id=\"texture-memory\" tabindex=\"-1\">Texture Memory <a class=\"header-anchor\" href=\"https://kpdwyer.github.io/blog/autotilepipeline/autotile/\">#</a></h3>\n<p>This is the big con.  At best, this method results in a new 256x256 texture atlas full of all 48 fullsize tiles.  This is a lot larger than the 64x96 atlas we started with.  It also means we need to do something with this smaller source asset we used to generate all these tiles.  It irked me to delete this smaller source file once i had generated the behemoth atlas used to drive this RuleTile.</p>\n<p><picture><source type=\"image/webp\" srcset=\"https://kpdwyer.github.io/img/R0ljZ23qeQ-600.webp 600w\"><img alt=\"Fullsized Atlas\" loading=\"lazy\" decoding=\"async\" src=\"https://kpdwyer.github.io/img/R0ljZ23qeQ-600.png\" width=\"600\" height=\"415\"></picture></p>\n<p>Surely, I thought, there must be a better way.  if this giant atlas came from these 32x32 tiles generated from a smaller atlas' 16x16 subtiles, couldn't we use the same source atlas to drive our AutoTile?</p>\n<h1 id=\"implementation-2-subtiles\" tabindex=\"-1\">Implementation 2: Subtiles <a class=\"header-anchor\" href=\"https://kpdwyer.github.io/blog/autotilepipeline/autotile/\">#</a></h1>\n<h2 id=\"target-output-1\" tabindex=\"-1\">Target Output <a class=\"header-anchor\" href=\"https://kpdwyer.github.io/blog/autotilepipeline/autotile/\">#</a></h2>\n<p>Rather than view the solution through the lens of the full-sized tiles that we perceive, what if we saw the solution through the lens of the smaller subtiles that we actually use in our implementation?  if we could somehow paint each subtile individually while conforming to the rules + position needs of the full-sized tiles, we'd have nearly the same functionality without generating a large atlas - in fact, we could use the source asset.<br>\nOur goal for this implementation is to generate a brush at subtile scale - in this case that's a 16x16 tile - that gives us the same visual output as the initial implementation without generating any new textures.</p>\n<h2 id=\"step-by-step-1\" tabindex=\"-1\">Step by Step <a class=\"header-anchor\" href=\"https://kpdwyer.github.io/blog/autotilepipeline/autotile/\">#</a></h2>\n<p>First of all, if we aren't generating new textures, we need to import the source texture properly. we do this in <code>ProcessSubtileTexture(Texture2D _texture, AutoTileLookup _lookup)</code> of <code>ImportAutotile.cs</code>.  we make sure to import the Texture2D as containing multiple sprites, then use our known measurement to slice the sprite in code based on the size of the Subtiles.</p>\n<p><picture><source type=\"image/webp\" srcset=\"https://kpdwyer.github.io/img/mmUD0AU6CO-2885.webp 2885w\"><img alt=\"Fullsized Atlas\" loading=\"lazy\" decoding=\"async\" src=\"https://kpdwyer.github.io/img/mmUD0AU6CO-2885.png\" width=\"2885\" height=\"1252\"></picture></p>\n<p>In this case I name them based on which Quadrant they are in and their Subtile ID.  After assigning the sliced metadata to the sprite sheet of the Texture2D, I re-import the whole thing and use <code>LoadAllAssetsAtPath(path)</code> to make sure I load the individual Sprite assets at that path. I sort them by name because the naming scheme used above means each subtile will be stored in it's own part of the list, from lowest Subtile ID to highest. I then generate the RuleTile and it's TilingRules exactly as was done previously.</p>\n<p>Each Rule now needs 4 tiles, though: one for each Quadrant.  At this point I realized I hadn't thought this through at all, but remembered that the RuleTIle supports multiple sprites for animation, or random placement.  poking into the source code for <code>RuleTile.cs</code> in the <code>2d-extras</code> repository, I discovered <code>SpriteOutput</code>, an enum that you can use to determine which tile in the List of Sprites gets placed for each rule.  Since <code>GetTileData(Vector3Int position, ITilemap Tilemap, ref TileData tileData)</code> receives the tile's <code>world</code> position, we can return which ever tile we want dependent on world position.  using a couple of <code>mod</code> operations, we can sample from the list of tiles based on whether the world grid index is even or not.</p>\n<p><picture><source type=\"image/webp\" srcset=\"https://kpdwyer.github.io/img/clPnaPbXZF-1766.webp 1766w\"><img alt=\"Mod Grid World\" loading=\"lazy\" decoding=\"async\" src=\"https://kpdwyer.github.io/img/clPnaPbXZF-1766.png\" width=\"1766\" height=\"998\"></picture></p>\n<p>So we throw some custom inspectors in there, and now each TilingRule in our RuleTile accepts 4 images: SW, SE, NW, NE.  With these additions to the <code>RuleTile.cs</code> (and some niceties in <code>RuleTileEditor.cs</code>), we can create and paint with a Modulo <code>SpriteOutput</code>.</p>\n<p>Now our <code>AddSpritesToRule(ref RuleTile.TilingRule _rule, List&lt;Sprite&gt; _sprites, int _ruleID, AutoTileLookup _lookup)</code> merely has to transform its tile indices to subtile indices based on which quadrant of the TilingRule it applies too.  We add these TilingRules to our RuleTile, and woosh! - processing an A2 PNG file slices the atlas for you and generates a RuleTile ready to be used on a subtile-scale grid.</p>\n<h2 id=\"problems-1\" tabindex=\"-1\">Problems <a class=\"header-anchor\" href=\"https://kpdwyer.github.io/blog/autotilepipeline/autotile/\">#</a></h2>\n<h3 id=\"usage-1\" tabindex=\"-1\">Usage <a class=\"header-anchor\" href=\"https://kpdwyer.github.io/blog/autotilepipeline/autotile/\">#</a></h3>\n<p>This is the same as Implementation 1.  First of all, you'll notice this operation is performed upon a PNG but also requires the lookup table data.  The nature of my role as someone who will have to make a few different lookup tables meant I didn't want to make this a simple <code>Right Click -&gt; Generate Autotile</code> script, as I want to provide 2 pieces of information to the function: the actual PNG, and the lookup table.  Thus, I actually trigger the operation with a Sprite Field on the lookup table's ScriptableObject which then triggers the function when you drag a sprite to it.  This is a minor detail though, and should require very little legwork to make it work with a right click.</p>\n<h3 id=\"setup\" tabindex=\"-1\">Setup <a class=\"header-anchor\" href=\"https://kpdwyer.github.io/blog/autotilepipeline/autotile/\">#</a></h3>\n<p>There's a minor bit of friction when setting up, your Tilemap needs to have half-scale tiles - so if your pixel-per-unit is 32 and your tiles are 32, then you'll need your Grid Component's cell size to be 0.5.</p>\n<h3 id=\"painting-the-autotile\" tabindex=\"-1\">Painting the AutoTile <a class=\"header-anchor\" href=\"https://kpdwyer.github.io/blog/autotilepipeline/autotile/\">#</a></h3>\n<p>Initially, this adds some operational friction to the act of actually painting with the RuleTile.  Namely, you'd be able to paint a quarter, half or three-quarter fractional tile that will look terrible, as it's meant to be painted alongside its entire tile.  Since the Tilemap is at subtile resolution, painting is at subtile resolution as well.  Also, even when painting with full tiles, you need to make sure you are not painting offset to the global modulo grid.  That is too say, if you are trying to place a NW or SW tile at an odd global grid index, it will try to paint the NE or SE variant of that tile's current rule. See the gif below for some of the problem one might run into.</p>\n<p><a href=\"https://kpdwyer.github.io/clips/autotile/15_PaintingSubtiles.gif\"><picture><source type=\"image/gif\" srcset=\"https://kpdwyer.github.io/img/U_uUJJTpoS-483.gif 483w\"><img alt=\"Subtile painting\" loading=\"lazy\" decoding=\"async\" src=\"https://kpdwyer.github.io/img/U_uUJJTpoS-483.webp\" width=\"483\" height=\"268\"></picture></a></p>\n<p>Luckily, Unity's Tilemaps also let you write custom brushes, so it's minimal work to write a brush that forces the tiles you paint to adhere to the modulo grid as if you were painting fullscale tiles rather than subtiles.</p>\n<p><a href=\"https://kpdwyer.github.io/clips/autotile/17_PaintingModulo.gif\"><picture><source type=\"image/gif\" srcset=\"https://kpdwyer.github.io/img/i8-hECdoAk-483.gif 483w\"><img alt=\"Painting Modulo\" loading=\"lazy\" decoding=\"async\" src=\"https://kpdwyer.github.io/img/i8-hECdoAk-483.webp\" width=\"483\" height=\"268\"></picture></a></p>\n<p>Having the tilemap at half res has runtime concerns though, especially for games with things like destructible terrain.  The other flaw here is that using the modulo brush means you can't use other types of brushes (unless you make a modulo version...).  Likewise for the RuleTile's Modulo SpriteOutput, which prevents you from painting with <code>Random</code> or <code>Animated</code> Tiles (Again, unless you write a modulo variant of these).</p>\n<p>I thought I had these problems solved as well, but Unity's <code>Sprite</code> implementation lacks a critical feature.</p>\n<h1 id=\"failed-attempt-the-impossible-dream\" tabindex=\"-1\">Failed Attempt: The Impossible Dream <a class=\"header-anchor\" href=\"https://kpdwyer.github.io/blog/autotilepipeline/autotile/\">#</a></h1>\n<h2 id=\"target-output-2\" tabindex=\"-1\">Target Output <a class=\"header-anchor\" href=\"https://kpdwyer.github.io/blog/autotilepipeline/autotile/\">#</a></h2>\n<p>I'd assume it is possible to generate a single Sprite that contains a mesh, split into four quads, that each sample from the source texture as necessary - this way we can paint at full-size resolution without generating a ton of texture bloat. We know that Unity's Sprites support some level of custom mesh, because you can edit it in the editor,  so I thought this would be the ideal solution.</p>\n<h2 id=\"custom-mesh\" tabindex=\"-1\">Custom Mesh <a class=\"header-anchor\" href=\"https://kpdwyer.github.io/blog/autotilepipeline/autotile/\">#</a></h2>\n<p>This seems doable: Unity's Sprite documentation shows a function called <code>OverrideGeometry(Vector2[] vertices, ushort[] triangles)</code>, which should allow us to set up the mesh as we need. However, a line in <a href=\"https://docs.unity3d.com/ScriptReference/Sprite.OverrideGeometry.html\">The Documentation</a> scared me: <code>Sprite UV's are calculated automatically by mapping the provided geometry onto the sprite texture.</code></p>\n<p><picture><source type=\"image/webp\" srcset=\"https://kpdwyer.github.io/img/a6D_zVbKA2-512.webp 512w\"><img alt=\"The Impossible Dream\" loading=\"lazy\" decoding=\"async\" src=\"https://kpdwyer.github.io/img/a6D_zVbKA2-512.png\" width=\"512\" height=\"384\"></picture></p>\n<h2 id=\"custom-uvs\" tabindex=\"-1\">Custom UVs <a class=\"header-anchor\" href=\"https://kpdwyer.github.io/blog/autotilepipeline/autotile/\">#</a></h2>\n<p>I had hoped that those auto-generated UVs could be overridden somewhere, but it seems that they can't.  Without custom UVs on the Sprites custom geometry, this idea is sort of a dead end - barring some custom shader work that I wanted to avoid.</p>\n<h1 id=\"in-closing\" tabindex=\"-1\">In Closing <a class=\"header-anchor\" href=\"https://kpdwyer.github.io/blog/autotilepipeline/autotile/\">#</a></h1>\n<p>I'm not super jazzed about any of this, really.  It seems like we should be able to feed our own UVs into a Sprite's mesh to manually sample from the atlas in a more flexible way, but here we are:  2 solutions for rapid AutoTile generation in Unity.  One favors simplicity, and one favors texture memory.  Thanks for reading!  Thanks <a href=\"https://mastodon.gamedev.place/@macktimus\">Mack</a>, for proofreading + editing!</p>\n",
			"date_published": "2019-04-18T00:00:00Z"
		}
		,
		{
			"id": "https://kpdwyer.github.io/blog/PixelAnimator/",
			"url": "https://kpdwyer.github.io/blog/PixelAnimator/",
			"title": "Frame-based Animator Generator",
			"content_html": "<p>I finished off writing a basic animation generator, given a very specific folder layout:</p>\n<p><picture><source type=\"image/webp\" srcset=\"https://kpdwyer.github.io/img/T0qhVgHNY5-1200.webp 1200w\"><img alt=\"File Structure\" loading=\"lazy\" decoding=\"async\" src=\"https://kpdwyer.github.io/img/T0qhVgHNY5-1200.jpeg\" width=\"1200\" height=\"423\"></picture></p>\n<p>This layout (and most of the code in this this gist) is simply set up the way that it is because it fits my current process.  None of this is meant to be universal or overly generic, but it's a good starting point if you're looking for something similar.</p>\n<p>The tool can generate animator controllers + clips, or just clips from a folder or selection.</p>\n<p><picture><source type=\"image/webp\" srcset=\"https://kpdwyer.github.io/img/nmFsBTbl42-946.webp 946w\"><img alt=\"Menu Hierarchy\" loading=\"lazy\" decoding=\"async\" src=\"https://kpdwyer.github.io/img/nmFsBTbl42-946.jpeg\" width=\"946\" height=\"364\"></picture></p>\n<p>I left in fairly basic <code>Debug.Log()</code> messages tracking (useful to track what has been done, rather than actual progress).</p>\n<p><picture><source type=\"image/webp\" srcset=\"https://kpdwyer.github.io/img/L5iSQPZf3D-1198.webp 1198w\"><img alt=\"Log Output\" loading=\"lazy\" decoding=\"async\" src=\"https://kpdwyer.github.io/img/L5iSQPZf3D-1198.jpeg\" width=\"1198\" height=\"578\"></picture></p>\n<p>And it does it's best to organize the resulting Animator Controller - in my game the art is along 4 cardinal directions, so it places the output in columns of 4 States for the sake of organization.</p>\n<p><picture><source type=\"image/webp\" srcset=\"https://kpdwyer.github.io/img/TB5QKGZK9B-748.webp 748w\"><img alt=\"Controller Output\" loading=\"lazy\" decoding=\"async\" src=\"https://kpdwyer.github.io/img/TB5QKGZK9B-748.jpeg\" width=\"748\" height=\"778\"></picture></p>\n<p>Obviously there's still a lot of work involved (timing individual frames, setting up transitions + parameters, etc), but this saves some time - especially if the default method of dragging batches of sprites onto a animation clip doesn't quite cover your bases.</p>\n<script src=\"https://gist.github.com/KPDwyer/1c4a490e5d4e8eef7bbe0272126a2f20.js\"></script>\n",
			"date_published": "2019-01-17T00:00:00Z"
		}
		,
		{
			"id": "https://kpdwyer.github.io/blog/beholdin/",
			"url": "https://kpdwyer.github.io/blog/beholdin/",
			"title": "beholdin",
			"content_html": "<p><picture><source type=\"image/webp\" srcset=\"https://kpdwyer.github.io/img/Lb0RI-yQ_V-1036.webp 1036w\"><img alt=\"Screenshot from beholdin' featuring gravity zones and shields.\" loading=\"lazy\" decoding=\"async\" src=\"https://kpdwyer.github.io/img/Lb0RI-yQ_V-1036.png\" width=\"1036\" height=\"584\"></picture></p>\n<p>beholdin' is a coffee break twin stick shooter; a daily challenge score chaser that rewards the risky and creative players.  You can <a href=\"https://kpdwyer.itch.io/beholdin\">find it on itch</a>.  I finished the game around 2018 after about 1.5 years of commutes.  Call it 10 hours a week, about 70 weeks to be generous, that's 700 hours.  Its rough around the edges, but I <strong>love</strong> it and will probably dedicate some time to making it more robust in the future.  I kept a <a href=\"https://kpdwyer.itch.io/beholdin/devlog\">devlog</a> alongside releases that some parties might find interesting.  Oddly enough, the best visual story of the game's development is probably this <a href=\"https://twitter.com/i/events/1037127521270157312\">moment on Twitter</a> (for now - still migrating everything!).</p>\n<h2 id=\"features\" tabindex=\"-1\">Features <a class=\"header-anchor\" href=\"https://kpdwyer.github.io/blog/beholdin/\">#</a></h2>\n<ul>\n<li>a single procedurally generated level every day.</li>\n<li>a unique level skin (biome?) for each day of the week.</li>\n<li>a unique combination of enemies &amp; mechanics for each day of the week.</li>\n<li>in each room, every wave triggered increases your multiplier, each hit you take decreases it.</li>\n<li>player-paced risk vs reward: break each crystal one at a time to deal with each wave in isolation, or break 'em all at once and hope you can handle it for max score.</li>\n<li>leaderboards, for bragging rights.</li>\n<li>Reflective walls, gravity wells, shields, lasers, bombs &amp; turrets: all the classics make an appearance.</li>\n</ul>\n<h2 id=\"technical-notes\" tabindex=\"-1\">Technical Notes <a class=\"header-anchor\" href=\"https://kpdwyer.github.io/blog/beholdin/\">#</a></h2>\n<ul>\n<li>Lasers are ray-marched so they could be reflected by reflectors, but also get their trajectory bent by gravity wells (push &amp; pull)</li>\n<li>all of the gameplay art was made in-unity with custom tools to make meshes out of polygons.</li>\n<li>each vertex of the art meshes stores a UV lookup value into a gradient palette that you can swap as you please (try hitting space while you're playing the game!)</li>\n<li>the game was made almost entirely on my train commute to and from work.  GameSparks &amp; Playfab integration required some evening work.</li>\n<li>each audio track was made in Gadget on my iPad.  elements of the songs are ducked in and out based on whether a room has unbroken crystals, active combat, if a room has a boss, and more.</li>\n</ul>\n<p><picture><source type=\"image/webp\" srcset=\"https://kpdwyer.github.io/img/LhxuTPXnCI-1038.webp 1038w\"><img alt=\"Screenshot from beholdin' showing reflective surfaces and tanks.\" loading=\"lazy\" decoding=\"async\" src=\"https://kpdwyer.github.io/img/LhxuTPXnCI-1038.jpeg\" width=\"1038\" height=\"582\"></picture></p>\n",
			"date_published": "2019-01-01T00:00:00Z"
		}
		
	]
}
